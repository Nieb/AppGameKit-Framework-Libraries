///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
TYPE _Camera_
    Pos AS Vec3

    Rot AS Vec3
    Pch AS FLOAT
    Yaw AS FLOAT
    Lok AS Vec3 // Axis -Z     Z is inverted.

    DepthNear AS FLOAT
    DepthFar  AS FLOAT
    PosNearPln AS Vec3
    PosFarPln  AS Vec3

    Fov        AS FLOAT
    OrthoWidth AS FLOAT
ENDTYPE
GLOBAL Camera AS _Camera_


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////FUNCTION InitializeCamera()
////    Camera.Fov        =  100.0
////    Camera.OrthoWidth =   16.0
////    Camera.DepthNear  =    0.0625
////    Camera.DepthFar   = 1024.0
////
////    Camera.Pos.x = 0.0
////    Camera.Pos.y = 0.0
////    Camera.Pos.z = 0.0
////
////    Camera.Rot.x = 0.0
////    Camera.Rot.y = 0.0
////    Camera.Rot.z = 0.0
////
////    //Camera.Lok = PitchYawToVec3(Camera.Pch, Camera.Yaw)
////
////    //Camera.NearDepth =    0.0625
////    //Camera.FarDepth  = 1024.0
////    //Camera.PlaneNearPos = add3(Camera.Pos, mul3f(CamLook, Camera.NearDepth + 0.001))
////    //Camera.PlaneFarPos  = add3(Camera.Pos, mul3f(CamLook, Camera.FarDepth  - 0.001))
////
////    UpdateCamera()
////ENDFUNCTION


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
FUNCTION UpdateCamera()
    // Parameters:
    SetCameraFOV(       1, Camera.Fov)
    SetCameraOrthoWidth(1, Camera.OrthoWidth)
    SetCameraRange(     1, Camera.DepthNear, Camera.DepthFar)

    // ...:
    SetCameraPosition(1, Camera.Pos.x, Camera.Pos.y, -Camera.Pos.z) // Z is inverted.
    SetCameraRotation(1, Camera.Rot.x, Camera.Rot.y, -Camera.Rot.z) // Z is inverted.

    //Camera.Lok = PitchYawToVec3(Camera.Pch, Camera.Yaw)

    //Camera.NearDepth =    0.0625
    //Camera.FarDepth  = 1024.0
    //Camera.PlaneNearPos = add3(Camera.Pos, mul3f(CamLook, Camera.NearDepth + 0.001))
    //Camera.PlaneFarPos  = add3(Camera.Pos, mul3f(CamLook, Camera.FarDepth  - 0.001))
ENDFUNCTION

