///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
TYPE Ray
    Pos    AS Vec3
    Nrm    AS Vec3
    NrmRcp AS Vec3 // "Reciprocal"
ENDTYPE


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
FUNCTION ray(PosX AS FLOAT, PosY AS FLOAT, PosZ AS FLOAT,
             NrmX AS FLOAT, NrmY AS FLOAT, NrmZ AS FLOAT)
    Result AS Ray
    Result.Pos.x = PosX
    Result.Pos.y = PosY
    Result.Pos.z = PosZ

    Result.Nrm.x = NrmX
    Result.Nrm.y = NrmY
    Result.Nrm.z = NrmZ

    Result.NrmRcp.x = 1.0 / Result.Nrm.x
    Result.NrmRcp.y = 1.0 / Result.Nrm.y
    Result.NrmRcp.z = 1.0 / Result.Nrm.z
ENDFUNCTION Result


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//FUNCTION SetRayPos(RayA REF AS Ray, PosX AS FLOAT, PosY AS FLOAT, PosZ AS FLOAT)
//    Result AS Ray
//    Result.Pos.x = PosX
//    Result.Pos.y = PosY
//    Result.Pos.z = PosZ
//ENDFUNCTION Result

// MyRay.Pos = vec3(NewX,NewY,NewZ)


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
FUNCTION SetRayNrm(RayA REF AS Ray, NrmX AS FLOAT, NrmY AS FLOAT, NrmZ AS FLOAT)
    Result AS Ray
    Result.Nrm.x = NrmX
    Result.Nrm.y = NrmY
    Result.Nrm.z = NrmZ

    Result.NrmRcp.x = 1.0 / Result.Nrm.x
    Result.NrmRcp.y = 1.0 / Result.Nrm.y
    Result.NrmRcp.z = 1.0 / Result.Nrm.z
ENDFUNCTION Result

